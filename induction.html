<!DOCTYPE html>
<html>
<head>
    <title>Induction of Labour</title>
    <style>
        #adviceField {
            margin-top: 20px;
            border: 1px solid black;
            padding: 10px;
        }
    </style>
    <script>
        function showAdvice() {
            const indication = document.getElementById('indicationsDropdown').value;
            const adviceDiv = document.getElementById('adviceField');

            switch(indication) {
                case 'risk-reducing':
                    adviceDiv.innerHTML = 'Risk-reducing - due to the ARRIVE trial, known to be safe for IOL at 39+0 onwards with no increased risk of Caesarean section and may reduce the risk of adverse neonatal outcomes';
                    break;
                case 'decreased_fetal_movements':
                    adviceDiv.innerHTML = '<a href="https://www.tommys.org/pregnancy-information/health-professionals/free-pregnancy-resources/leaflet-reporting-reduced-fetal-movements" target="_blank">Tommyâ€™s DFM leaflet</a>';
                    break;
                case 'macrosomia':
                    adviceDiv.innerHTML = '<li>Delivery to be considered to reduce risk of traumatic and/or failed vaginal.</li>' +
                                          '<li>Cochrane Review 2023</li>' +
                                          '<li>http://tinyurl.com/CochraneMacrosomia</li>' +
                                          '<li>Quality:</strong> Moderate/good quality but potential bias.</li>' +
                                          '<li>Findings:</li>' +
                                          '<li>Induction reduces shoulder dystocia, clavicle fractures (moderate to high-quality evidence).</li>' +
                                          '<li>No significant difference in brachial plexus injury or birth asphyxia.</li>' +
                                          '<li>Labor induction lowers birthweight by average 178 g.</li>' +
                                          '<li>No impact on incidence of cesarean/instrumental births.</li>';
                    break;
                case 'advanced_maternal_age':
                    adviceDiv.innerHTML = 'Advanced maternal age - known to reduce the risk of stillbirth';
                    break;
                default:
                    adviceDiv.innerHTML = 'Please select an indication for specific advice.';
            }
        }

        function copyAdviceToParent() {
            const adviceDiv = document.getElementById('adviceField');
            const adviceText = adviceDiv.innerText;
            sendMessageToParent(adviceText);
        }

        function sendMessageToParent(adviceText) {
            // Ensure the parent is the intended recipient (use specific origin in production)
            window.parent.postMessage(adviceText, '*');
        }
    </script>
</head>
<body>

<h1>Induction of Labour</h1>

<label for="indicationsDropdown">Indications:</label>
<select id="indicationsDropdown" onchange="showAdvice()" aria-label="Select Indication for Labour">
    <option value="" selected>Select Indication</option>
    <option value="risk-reducing">Risk-reducing</option>
    <option value="decreased_fetal_movements">Decreased fetal movements</option>
    <option value="macrosomia">Macrosomia</option>
    <option value="advanced_maternal_age">Advanced maternal age</option>
</select>

<fieldset id="adviceField">
    <legend>Advice</legend>
    <!-- Content gets populated here -->
    Please select an indication for specific advice.
</fieldset>
<hr>
<button onclick="copyAdviceToParent()">Copy to Clipboard</button>

</body>
</html>
