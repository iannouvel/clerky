<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>clerky.</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="top-bar">clerky.</div>
    <div class="button-row">
        <button id="promptsBtn" class="record-btn">Prompts</button>
        <button id="guidelinesBtn" class="record-btn">Guidelines</button>
        <button id="algosBtn" class="record-btn">Algos</button>
        <button id="linksBtn" class="record-btn">Links</button>
        <button id="recordBtn" class="record-btn">
            <span id="recordSymbol" class="record-symbol"></span>Record
        </button>
        <button id="actionBtn">
            <span id="actionSpinner" class="spinner" style="display: none;">&#x21BB;</span>
            <span id="actionText">Process</span>
        </button>
        <button id="generateClinicalNoteBtn">
            <span id="spinner" class="spinner" style="display: none;">&#x21BB;</span>
            <span id="generateText">Generate Note</span>
        </button>
        <button id="exportBtn" class="record-btn">Export to OneDrive</button>
    </div>
    <div class="tabs">
        <div class="tab active" data-tab="main">Main</div>
        <div class="tab" data-tab="prompts">Prompts</div>
        <div class="tab" data-tab="guidelines">Guidelines</div>
    </div>
    <div id="mainSection" class="container">
        <div class="left-column">
            <textarea rows="20" id="summary"></textarea>
        </div>
        <div class="middle-column">
            <div id="suggestedGuidelines" class="accordion-container"></div>
        </div>
        <div class="third-column">
            <textarea id="clinicalNoteOutput" rows="20"></textarea>
        </div>
    </div>
    <div id="promptsSection" class="container hidden">
        <div id="promptsContainer" class="prompts-container">
            <div class="prompt-group">
                <label for="promptIssues">Prompt for issues:</label>
                <textarea id="promptIssues">
    Please determine the significant clinical issues within this clinical scenario, ie if the patient has had as BMI of 45, return: 'Morbid obesity: BMI 45'. 
    Do not list risks, this will be done by the user. 
    Please provide the issues as a list from most clinically important to least.
                </textarea>
            </div>
            <div class="prompt-group">
                <label for="promptGuidelines">Prompt for guidelines:</label>
                <textarea id="promptGuidelines">
    Please provide filenames of the 3 most relevant guidelines for the following clinical text. 
    Please only list the filenames, without prior or trailing text.
    The significant terms are listed line-by-line as filenames followed by their associated 
    significant terms:
                </textarea>
            </div>
            <div class="prompt-group">
                <label for="promptNoteGenerator">Prompt for note generator:</label>
                <textarea id="promptNoteGenerator">
    The following is a transcript from a clinical consultation.
    Please write a concise clinical note using medical terminology 
    suitable for healthcare professionals. 
    Please write the note from the perspective of the clinician.
    Please use the following structure, without actually writing the headings: Situation, Issues and Plan.
    If the clinical context is a current pregnancy, please summarise the situation as follows:
    Age, Parity - Previous mode of delivery, Gestation, BMI, Rhesus Status, for example: "36yo, P2 - previous SVD followed by EMCS, 33+2 weeks, BMI 22, Rh+ve"
    Please summarise the issues as single line items with the associated discussion regarding the context, risks etc included.
    Please try to include all the information discussed, where necessary to demonstrate concision and avoid repetition.
    Thank you.
    Here follows the transcript:
                </textarea>
            </div>
            <button id="savePromptsBtn">Save Prompts</button>
        </div>
    </div>
    <div id="guidelinesSection" class="container hidden">
        <div id="guidelinesContainer" class="guidelines-container">
            <h2>Guidelines</h2>
            <ul id="guidelinesList"></ul>
        </div>
    </div>
    <div id="linksSection" class="container hidden">
        <div id="linksContainer" class="links-container">
            <h2>Links</h2>
            <ul id="linksList"></ul>
        </div>
    </div>

    <!-- Include Firebase and Firestore scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.x/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.x/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.x/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.x/firebase-firestore.js"></script>

    <!-- Your main script -->
    <script src="script.js"></script>
</body>
</html>
